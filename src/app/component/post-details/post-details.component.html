<div class="row mx-0 shadow-lg main-div-s">

  <div class="col-lg-4 right-div-s order-lg-2">
    <div class="img-div-s">
      <img [src]="postDetail.image" [alt]="postDetail.imageName">
    </div>
    
    @if (postDetail.uploadedByUserId == loggedInUserId) {
    <div class="btn-div-s mb-3">
      <button class="btn btn-danger" (click)="deletePostById(postDetail._id)">Delete</button>
    </div>
    }
  </div>

  <div class="col-lg-8 order-lg-1">
    <h4>{{postDetail.imageName}}</h4>
    <p>{{postDetail.imageDescription}}</p>
    <p><b>Created By :</b> {{postDetail.uploadedBy}} </p>
    <p><b>Uploaded :</b> {{postDetail.uploadedOn | timeAgo}} </p>

    <hr>

    @if (_utilService.loggedIdUserId != "") {
      <label>Write a comment</label>
      <br>
      @if (isSubmit) {
        <small class="text-danger">Required*</small>
      }
      <textarea style="width: 100%; height: 100px; margin: 0px;" [formControl]="textArea"></textarea>
      <br>
      <button (click)="submit(postDetail._id)" class="btn btn-info mb-5" style="width: 50%;">Submit</button>
      <br>
    }
    @else {
      <br>
      <div class="br-3">
        <label>Login to comment</label>
      </div>
      <br>
    }


    <label><b>Comments</b></label>
    <div class="cmt-div-s">
      @for (comment of postDetail.comments; track comment._id) {
      <div class="comments-s">
        <label><b>By: </b>{{comment.by}}</label>
        <p>{{comment.comment}}</p>
      </div>
      } @empty {
      No Comments yet
      }
    </div>

  </div>



</div>

<app-confirmation-dialogue></app-confirmation-dialogue>